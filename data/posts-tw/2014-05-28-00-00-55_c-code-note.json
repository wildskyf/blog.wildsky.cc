{
  "guid": "http://blog.wildsky.cc/?p=53",
  "date": "2014-05-28T00:00:55",
  "slug": "c-code-note",
  "link": "/posts/c-code-note/",
  "title": "C++ 函式筆記：setColor、system(&#8216;color 0a&#8217;)、gotoxy",
  "excerpt": "<p>有時候寫 code 就是會手癢想美化一下，就會開始上網找要怎麼改顏色、版面調整。雖然說現在搜尋引擎已經很方便了&#8230;</p>\n",
  "feature_image_url": null,
  "content": "\n<p>有時候寫 code 就是會手癢想美化一下，就會開始上網找要怎麼改顏色、版面調整。雖然說現在搜尋引擎已經很方便了，但還是想記錄一下之前做專題時用到的幾個好用的函式，以後要用的時候就可以輕鬆地達成目的。</p>\n\n\n\n<p>本篇文章包含下列三個函式的實作與解說：</p>\n\n\n\n<ul><li><code>setColor()</code>：指定局部色彩</li><li><code>system('color 0a')</code>：指定全畫面色彩</li><li><code>gotoxy()</code>：更改游標位置</li></ul>\n\n\n\n<p>如果以上三者有你需要的，就請繼續看下去吧！</p>\n\n\n\n<!--more-->\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<h2>用 <code>SetColor();</code> 更改顏色</h2>\n\n\n\n<p>步驟很簡單～只要將下面這堆程式碼加到你的 .cpp 裡面</p>\n\n\n\n<p>再加上其他小細節（宣告還是之類的），就會有個函式讓你可以使用，這邊就不多說了。</p>\n\n\n\n<pre class=\"wp-block-code\"><code>#include&lt;windows.h>\nvoid SetColor(int color = 7)\n{\n  HANDLE hConsole;\n  hConsole = GetStdHandle(STD_OUTPUT_HANDLE);\n  SetConsoleTextAttribute(hConsole,color);\n}</code></pre>\n\n\n\n<p>需要更改顏色時只要呼叫&nbsp; <code>SetColor(&lt;strong&gt;數字&lt;/strong&gt;);</code>就可以更改顏色了。</p>\n\n\n\n<p><strong>數字</strong>對應到的文字顏色以及背景顏色如下圖：</p>\n\n\n\n<figure class=\"wp-block-image is-resized\"><img src=\"http://blog.wildsky.cc/wp-content/uploads/2019/04/14097442967_4ba5bcac08_o.png\" alt=\"\" class=\"wp-image-636\" width=\"580\" height=\"561\" srcset=\"https://backend.wildsky.cc/wp-content/uploads/2019/04/14097442967_4ba5bcac08_o.png 480w, https://backend.wildsky.cc/wp-content/uploads/2019/04/14097442967_4ba5bcac08_o-300x290.png 300w\" sizes=\"(max-width: 580px) 100vw, 580px\" /><figcaption>SetColor</figcaption></figure>\n\n\n\n<p>舉例來說, 我今天想要出現 <strong>黑底紅字</strong> 那我只要呼叫 <code>SetColor(12);</code> 就可以完成願望</p>\n\n\n\n<p>再舉例來說, 我今天想要 <strong>白底黑字</strong> 我只要呼叫 <code>SetColor(240);</code> 就可以達成效果</p>\n\n\n\n<p>那今天我想要變回預設值呢？可以直接輸入 <code>SetColor();</code> 就會切回原本顯示的樣子了。</p>\n\n\n\n<p>是不是很方便呀？以上就是 <code>SetColor()</code> 這個函式的的使用方式。</p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<h2><code>system(“color 0a\");</code></h2>\n\n\n\n<p>學了局部改變顏色的方法，就順便學一下霸氣的、改整面顏色的方法吧！</p>\n\n\n\n<p>windows 要呼叫很簡單，只要先 <code>#include&lt;stdlib.h&gt;</code> 然後在需要的時候輸入 <code>system(\"color 0a\");</code></p>\n\n\n\n<p>就可以改變顏色了！簡單解釋一下，後面有兩個值，都採十六進位制。第一個值是控制文字顏色，第二個值是控制背景顏色。對應的顏色我就不講了，讓你自行摸索。</p>\n\n\n\n<p>P.S : <code>system(\"color 0F\");</code> 是黑底白字，<code>system(\"color F0\");</code> 是白底白黑字，剩下的自行看著辦。</p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<h2>用 <code>gotoxy();</code> 更改游標位置</h2>\n\n\n\n<p>有時候會想要有一些排版，就會不斷的 print 空白鍵，但每次這樣寫就覺得好麻煩又好蠢。程式碼被空白字元佔滿的感覺真的不好受，就算使用迴圈印也還是沒辦法逃離看起來亂糟糟的感覺。</p>\n\n\n\n<p>這個時候就會希望可以獲得「游標位置主控權」，方法其實很簡單，程式碼如下方所示：</p>\n\n\n\n<pre class=\"wp-block-code\"><code>#include&lt;windows.h>\nvoid gotoxy(int xpos, int ypos)\n{\n  COORD scrn;\n  HANDLE hOuput = GetStdHandle(STD_OUTPUT_HANDLE);\n  scrn.X = xpos; scrn.Y = ypos;\n  SetConsoleCursorPosition(hOuput,scrn);\n}</code></pre>\n\n\n\n<p>想移動游標時只要呼叫 <code>gotoxy(x,y);</code> 就 OK 了。</p>\n\n\n\n<p>x, y 值的計算方式是以命令提示字元視窗的左上角開始算：向右向下，值漸漸增加，細節就請自己試試看吧。</p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<h3>後記</h3>\n\n\n\n<p>有了上面那幾個函式，相信就可以大大的改善使用者介面了，更不用提程式碼會變得多整潔。如果想製作命令列小遊戲，有了上面那兩個函式也會變得很容易。</p>\n\n\n\n<h2>參考</h2>\n\n\n\n<ul><li><a href=\"http://kowala21.blogspot.com/2012/01/dev-c-console.html\">http://kowala21.blogspot.com/2012/01/dev-c-console.html</a></li><li><a href=\"http://flyingdc.pixnet.net/blog/post/24333750\">http://flyingdc.pixnet.net/blog/post/24333750</a></li></ul>\n"
}