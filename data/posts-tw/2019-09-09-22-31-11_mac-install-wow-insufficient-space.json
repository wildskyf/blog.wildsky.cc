{
  "guid": "http://blog.wildsky.cc/?p=1434",
  "date": "2019-09-09T22:31:11",
  "slug": "mac-install-wow-insufficient-space",
  "link": "/posts/mac-install-wow-insufficient-space/",
  "title": "安裝魔獸世界卻遇到磁碟空間不足的解法",
  "excerpt": "<p>因為遇到這個在看起來很神秘的問題，所以寫篇文章記錄一下。</p>\n",
  "feature_image_url": null,
  "content": "\n<p>因為遇到這個在看起來很神秘的問題，所以寫篇文章記錄一下。</p>\n\n\n\n<figure class=\"wp-block-image\"><img width=\"1024\" height=\"421\" src=\"https://blog.wildsky.cc/wp-content/uploads/2019/09/Screen-Shot-2019-09-09-at-22.10.50-1024x421.png\" alt=\"\" class=\"wp-image-1436\" srcset=\"https://backend.wildsky.cc/wp-content/uploads/2019/09/Screen-Shot-2019-09-09-at-22.10.50-1024x421.png 1024w, https://backend.wildsky.cc/wp-content/uploads/2019/09/Screen-Shot-2019-09-09-at-22.10.50-300x123.png 300w, https://backend.wildsky.cc/wp-content/uploads/2019/09/Screen-Shot-2019-09-09-at-22.10.50-768x316.png 768w, https://backend.wildsky.cc/wp-content/uploads/2019/09/Screen-Shot-2019-09-09-at-22.10.50.png 1172w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /></figure>\n\n\n\n<figure class=\"wp-block-image\"><img width=\"1024\" height=\"654\" src=\"https://blog.wildsky.cc/wp-content/uploads/2019/09/9345d688d43f87943e4357e8de1b0ef41ad53ab3-1024x654.png\" alt=\"\" class=\"wp-image-1435\" srcset=\"https://backend.wildsky.cc/wp-content/uploads/2019/09/9345d688d43f87943e4357e8de1b0ef41ad53ab3-1024x654.png 1024w, https://backend.wildsky.cc/wp-content/uploads/2019/09/9345d688d43f87943e4357e8de1b0ef41ad53ab3-300x192.png 300w, https://backend.wildsky.cc/wp-content/uploads/2019/09/9345d688d43f87943e4357e8de1b0ef41ad53ab3-768x491.png 768w, https://backend.wildsky.cc/wp-content/uploads/2019/09/9345d688d43f87943e4357e8de1b0ef41ad53ab3.png 1440w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /><figcaption>明明還有一百多GB，卻仍提示空間不足。安裝畫面為示意圖，非當事畫面，圖來自<br>https://zhidao.baidu.com/question/878775030865866652.html</figcaption></figure>\n\n\n\n<!--more-->\n\n\n\n<p>稍微爬了一下文，才發現原來我不孤單！甚至還有看到暴雪客服在那邊說 WOW 現在不支援 Mac 哦（不支援最好是會給人安裝的入口啦 = = ）</p>\n\n\n\n<ul><li><a href=\"http://bbs.wow.blizzard.cn/forum.php?mod=viewthread&amp;tid=510173\">http://bbs.wow.blizzard.cn/forum.php?mod=viewthread&amp;tid=510173</a></li></ul>\n\n\n\n<h2>導因</h2>\n\n\n\n<p>會出現這個問題似乎是因為 MacOS 在刪除檔案後所釋出的空間並非真正可立刻使用的空間，只是 UI 上為了讓使用者知道自己總共可以使用的空間數，才會產生這個「我明明空間就夠，為什麼不給我安裝」的狀況。</p>\n\n\n\n<p>要看到真正可用的空間可以打開 Terminal 用這個指令：</p>\n\n\n\n<pre class=\"wp-block-code\"><code>df -kh /</code></pre>\n\n\n\n<figure class=\"wp-block-image\"><img width=\"1024\" height=\"97\" src=\"https://blog.wildsky.cc/wp-content/uploads/2019/09/Screen-Shot-2019-09-09-at-22.17.26-1024x97.png\" alt=\"\" class=\"wp-image-1437\" srcset=\"https://backend.wildsky.cc/wp-content/uploads/2019/09/Screen-Shot-2019-09-09-at-22.17.26-1024x97.png 1024w, https://backend.wildsky.cc/wp-content/uploads/2019/09/Screen-Shot-2019-09-09-at-22.17.26-300x28.png 300w, https://backend.wildsky.cc/wp-content/uploads/2019/09/Screen-Shot-2019-09-09-at-22.17.26-768x73.png 768w, https://backend.wildsky.cc/wp-content/uploads/2019/09/Screen-Shot-2019-09-09-at-22.17.26.png 1412w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /><figcaption>以為有一百多 GB 可用，其實可以用的只有 25G，魔獸安裝程式看到的可用空間應該也是這個數字，所以才說空間不足。</figcaption></figure>\n\n\n\n<h2>解法</h2>\n\n\n\n<p>解法其實蠻奇妙的，要在 Terminal 輸入下面的指令來產生超大檔案，逼系統去把那些「非立即可用的空間」給釋出。</p>\n\n\n\n<pre class=\"wp-block-code\"><code>dd if=/dev/zero of=~/hugefile bs=15m</code></pre>\n\n\n\n<p>這個指令會在家目錄下產生一個大檔案，可以開 finder.app 去看檔案產生多大了。搭配上面講的 <code>df -kh /</code> 使用，等到出現足夠大的空間，就可以按 <code>ctrl + c</code> 把生成程式給砍掉，然後再去把大檔案刪掉就行了。不知道丟到垃圾桶再清空，和直接用指令刪除有沒有差，我是用後者，所以也附上刪除該檔案的指令：</p>\n\n\n\n<pre class=\"wp-block-code\"><code>rm ~/hugefile</code></pre>\n\n\n\n<p>大概是這樣。</p>\n\n\n\n<p>如果不想用 terminal 產生大檔案的也可以參考這篇文章：</p>\n\n\n\n<figure class=\"wp-block-embed-wordpress wp-block-embed is-type-wp-embed is-provider-os-x-daily\"><div class=\"wp-block-embed__wrapper\">\n<blockquote class=\"wp-embedded-content\" data-secret=\"Hs5418oh6h\"><a href=\"http://osxdaily.com/2013/05/31/create-large-file-mac-os-x/\">Create a Large File from the Command Line or Disk Utility for Testing Purposes</a></blockquote><iframe title=\"&#8220;Create a Large File from the Command Line or Disk Utility for Testing Purposes&#8221; &#8212; OS X Daily\" class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" src=\"http://osxdaily.com/2013/05/31/create-large-file-mac-os-x/embed/#?secret=Hs5418oh6h\" data-secret=\"Hs5418oh6h\" width=\"600\" height=\"338\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"></iframe>\n</div></figure>\n\n\n\n<p>不過我是沒試過，反正就提供一下找到的連結XD</p>\n\n\n\n<h2>結語</h2>\n\n\n\n<p>只是想要完成魔獸世界卻還得像個工程師一樣抓蟲⋯⋯ 真是無奈。</p>\n\n\n\n<h2>參考資料</h2>\n\n\n\n<ul><li><a href=\"https://apple.stackexchange.com/questions/254676/\" target=\"_blank\" rel=\"noopener noreferrer\">https://apple.stackexchange.com/questions/254676/</a></li><li><a href=\"https://www.reddit.com/r/wow/comments/58t8jp/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.reddit.com/r/wow/comments/58t8jp/</a></li></ul>\n"
}