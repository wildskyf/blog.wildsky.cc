{
  "guid": "http://blog.wildsky.cc/?p=180",
  "date": "2016-03-01T01:58:29",
  "slug": "build-firefox-preparation-under-fedora",
  "link": "/en/posts/build-firefox-preparation-under-fedora/",
  "title": "Preparation for building Firefox under Fedora",
  "excerpt": "<p>Today, I want to build Firefox myself. So I found this &#8230;</p>\n",
  "feature_image_url": null,
  "content": "\n<p>Today, I want to build Firefox myself. So I found this post: <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Build_Instructions/Simple_Firefox_build\">Simple Firefox build</a>, and there is a link, which could help me setup the prerequisites. The link is <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Build_Instructions/Simple_Firefox_build/Linux_and_MacOS_build_preparation\">Linux Build Prerequisites</a>. But I still got some problems when I followed the instruction. So I write down this article about preparation for building Firefox.</p>\n\n\n\n<!--more-->\n\n\n\n<p>Ok, so what happened? after I input this command in my terminal:</p>\n\n\n\n<p><code>wget -q https://hg.mozilla.org/mozilla-central/raw-file/default/python/mozboot/bin/bootstrap.py -O bootstrap.py &amp;&amp; python bootstrap.py</code></p>\n\n\n\n<p>The command I input looks like to download some python script file, and execute it. But when executing the script, It said that:</p>\n\n\n\n<pre class=\"wp-block-code\"><code>Your version of Mercurial (3.5.1) is not modern enough.\nTraceback (most recent call last):\n  File \"bootstrap.py\", line 159, in &lt;module>\n    sys.exit(main(sys.argv))\n  File \"bootstrap.py\", line 150, in main\n    dasboot.bootstrap()\n  File \"/tmp/tmpTdL9Pv/mozboot/bootstrap.py\", line 137, in bootstrap\n\n  File \"/tmp/tmpTdL9Pv/mozboot/base.py\", line 316, in ensure_mercurial_modern\nTypeError: upgrade_mercurial() takes exactly 1 argument (2 given)</code></pre>\n\n\n\n<p>&#8220;ok,&#8221; I thought, &#8220;Mercurial (3.5.1) is not modern enough. Let me just easily upgrade it.&#8221;</p>\n\n\n\n<p>But no matter how many times I give <code>sudo dnf update -y</code> to my Terminal, it kept telling me that:</p>\n\n\n\n<pre class=\"wp-block-code\"><code>Last metadata expiration check performed 0:14:52 ago on Tue Mar  1 22:23:25 2016.\nDependencies resolved.\nNothing to do.\nComplete!\n</code></pre>\n\n\n\n<p>So my Mercurial should be up-to-date. But I found that the official website of Mercurial shows the latest version of Mercurial is 3.7.1, and mine is 3.5.1!</p>\n\n\n\n<p>Ok, Fedora has copr, which means Cool Other Package Repo. So let&#8217;s find some cool package about Mercurial. And thanks to Google I got this repo: <a href=\"http://copr-fe.cloud.fedoraproject.org/coprs/nbecker/mercurial-3/packages/\">nbecker/mercurial-3</a>, and try this command:</p>\n\n\n\n<p><code>sudo dnf copr enable nbecker/mercurial-3 &amp;&amp; sudo dnf update</code></p>\n\n\n\n<p>now I have 3.2.1 …. though this is not the really newest version of Mercurial, it won’t get wrong when I give&nbsp;<code>wget -q https://hg.mozilla.org/mozilla-central/raw-file/default/python/mozboot/bin/bootstrap.py -O bootstrap.py &amp;&amp; python bootstrap.py</code>&nbsp;to my Terminal!</p>\n\n\n\n<p>It allow me to move on, so I think it’s a solution for people who use Fedora, and want to build Firefox, but face the not-new-enough-version mercurial problem. Hope this article could help you finish the preparation for building Firefox.</p>\n\n\n\n<p>&#8230; maybe you might be interested in my other articles about linux: <a href=\"http://blog.wildsky.cc/categories/linux/\">http://blog.wildsky.cc/categories/linux/</a></p>\n\n\n\n<p></p>\n\n\n\n<figure class=\"wp-block-image\"><img src=\"http://blog.wildsky.cc/wp-content/uploads/2019/03/nathan-anderson-158540-unsplash-1024x684.jpg\" alt=\"Firefox is cute, isn't it?\" class=\"wp-image-212\"/><figcaption>Photo by <a href=\"https://unsplash.com/photos/KGNaQcD8zdM?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Nathan Anderson</a> on <a href=\"https://unsplash.com/search/photos/fire-fox?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></figcaption></figure>\n"
}